<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Festa da Mait√™</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root {
    --rosa: #d63384;
    --rosa-escuro: #ad2a6b;
    --verde: #28a745;
    --cinza-borda: #dcdcdc;
    --bg-grad: linear-gradient(135deg, #ffe0f0, #ffc4e1);
    --card-bg: #fff;
    --radius-card: 18px;
    --radius-btn: 8px;
  }

  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: var(--bg-grad);
    min-height: 100vh;
    color: #333;
  }

  /* Layout base */
  .center-wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 16px;
    text-align: center;
  }

  .card {
    background: var(--card-bg);
    padding: 32px 28px;
    border-radius: var(--radius-card);
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    max-width: 500px;
    margin: 16px;
    position: relative;
  }

  h1, h2, h3 {
    margin-top: 0;
    font-weight: 600;
  }
  h1 { color: var(--rosa); font-size: 1.9rem; }
  h2 { color: var(--rosa); font-size: 1.4rem; }
  h3 { color: var(--rosa); font-size: 1.1rem; margin-bottom: 8px; }

  p { line-height: 1.4; margin: 0 0 1em; }

  /* Bot√µes gen√©ricos */
  .btn {
    background-color: var(--rosa);
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: var(--radius-btn);
    font-size: 16px;
    cursor: pointer;
    margin-top: 16px;
  }
  .btn:hover { background-color: var(--rosa-escuro); }

  /* Bot√£o voltar (topo esquerdo da tela de acesso) */
  #voltarBtn {
    position: absolute;
    top: 16px;
    left: 16px;
    background: var(--rosa);
    color: #fff;
    border: none;
    border-radius: var(--radius-btn);
    padding: 8px 16px;
    font-weight: bold;
    cursor: pointer;
  }
  #voltarBtn:hover {
    background-color: var(--rosa-escuro);
  }

  /* Lista e a√ß√µes na tela de acesso */
  .admin-actions {
    margin-top: 16px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .admin-btn {
    padding: 8px 14px;
    font-size: 14px;
    border-radius: var(--radius-btn);
    border: none;
    cursor: pointer;
  }
  .admin-btn.add { background: var(--rosa); color: #fff; }
  .admin-btn.add:hover { background: var(--rosa-escuro); }
  .admin-btn.mass { background: var(--verde); color: #fff; }
  .admin-btn.mass:hover { filter: brightness(0.9); }

  /* Lista de fam√≠lias */
  #familiasContainer {
    margin-top: 24px;
  }
  .familyBox {
    border: 1px dashed var(--cinza-borda);
    padding: 16px;
    margin-bottom: 12px;
    border-radius: var(--radius-card);
    background: #ffffff;
    position: relative;
  }
  .familyBox strong {
    font-size: 1.1rem;
    color: var(--rosa-escuro);
  }
  .familyBox p {
    margin: 4px 0;
    font-size: 0.95rem;
  }

  .fam-actions {
    margin-top: 8px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .fam-btn {
    padding: 6px 12px;
    font-size: 13px;
    border: none;
    border-radius: var(--radius-btn);
    cursor: pointer;
  }
  .fam-send { background: var(--verde); color: #fff; }
  .fam-edit { background: #ffc107; color: #000; }
  .fam-delete { background: #dc3545; color: #fff; }

  .fam-btn:hover { filter: brightness(0.9); }

  /* Edit modal */
  #editModal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    z-index: 1001;
    justify-content: center;
    align-items: center;
    padding: 16px;
  }
  .edit-content {
    background: #fff;
    max-width: 420px;
    width: 100%;
    padding: 24px;
    border-radius: var(--radius-card);
    box-shadow: 0 4px 16px rgba(0,0,0,0.3);
    position: relative;
  }
  .edit-close {
    position: absolute;
    top: 8px;
    right: 12px;
    background: transparent;
    border: none;
    font-size: 24px;
    color: var(--rosa);
    cursor: pointer;
  }
  .edit-save {
    margin-top: 16px;
    width: 100%;
    background: var(--rosa);
    color: #fff;
    padding: 10px;
    font-size: 16px;
    border: none;
    border-radius: var(--radius-btn);
    cursor: pointer;
  }
  .edit-save:hover { background: var(--rosa-escuro); }

  /* Responsividade menor */
  @media (max-width:480px) {
    .card { padding: 24px 20px; }
    h1 { font-size: 1.6rem; }
    .btn { width: 100%; }
    #voltarBtn {
      top: 10px;
      left: 10px;
      padding: 6px 12px;
      font-size: 14px;
    }
  }
</style>
</head>
<body>

<!-- TELA INICIAL -->
<div id="homeView" class="center-wrap">
  <div class="card">
    <h1>Festa da Mait√™ üéâ</h1>
    <p>Estamos muito felizes em celebrar o 1¬∫ aninho da princesa Mait√™! üíú</p>
    <p><strong>Mam√£e ou papai</strong>, estamos muito felizes em ajudar voc√™s com a festa da Mait√™! Este espa√ßo foi personalizado para facilitar o envio dos convites, acompanhar as confirma√ß√µes de presen√ßa e tornar esse momento ainda mais especial.</p>
    <button id="loginBtn" class="btn" type="button">Acesso</button>
  </div>
</div>

<!-- TELA DE ACESSO / ADMIN -->
<div id="adminArea" class="center-wrap" style="display:none; position:relative;">
  <button id="voltarBtn" type="button">Voltar √† tela inicial</button>
  <div class="card" style="padding-top: 56px; max-width: 600px;">
    <h2>Cadastro de Fam√≠lias</h2>

    <div class="admin-form">
      <label for="responsavel">Respons√°vel (Ex: Sueli)</label>
      <input id="responsavel" placeholder="Respons√°vel" />

      <label for="membros">Membros (Ex: Sueli, Adilson, Eduardo)</label>
      <textarea id="membros" placeholder="Membros separados por v√≠rgula"></textarea>

      <label for="telefone">Telefone com DDD (somente n√∫meros)</label>
      <input id="telefone" placeholder="Ex: 11999999999" />

      <div class="admin-actions">
        <button class="admin-btn add" type="button" id="addFamiliaBtn">Adicionar Fam√≠lia</button>
        <button class="admin-btn mass" type="button" id="sendAllBtn">Encaminhar Todos</button>
        <button class="admin-btn mass" type="button" id="exportBtn" title="Exportar em CSV">Exportar CSV</button>
      </div>
    </div>

    <div id="familiasContainer"></div>
  </div>
</div>

<!-- TELA DE CONFIRMA√á√ÉO (quando ?familia=...) -->
<div id="confirmView" class="center-wrap" hidden>
  <div class="card" id="confirmCard">
    <h1>Mait√™ faz 1 aninho! üëßüéâ</h1>
    <p id="familiaSaudacao"></p>
    <p>
      üóìÔ∏è <strong>Data:</strong> 20 de Setembro<br>
      üïí <strong>Hor√°rio:</strong> das 19:30 √†s 23:30<br>
      üìç <strong>Local:</strong> Avenida S√£o Miguel, 8001 - SP
    </p>
    <button id="confirmarBtn" class="btn" type="button">Confirmar Presen√ßa</button>
  </div>
</div>

<!-- MODAL EDI√á√ÉO -->
<div


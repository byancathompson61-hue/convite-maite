<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Convite da Maitê 🎉</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #fffafc;
      color: #333;
    }

    h2 {
      color: #a3478f;
    }

    .hidden {
      display: none;
    }

    #login {
      text-align: right;
    }

    #adminArea {
      border: 1px solid #ccc;
      padding: 20px;
      margin-top: 30px;
      background-color: #fdf2f8;
      border-radius: 10px;
    }

    input, button, textarea {
      margin: 5px 0;
      padding: 10px;
      width: 100%;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      background-color: #a3478f;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }

    button:hover {
      background-color: #822d6c;
    }

    #generatedLink {
      word-wrap: break-word;
      background: #fff;
      padding: 10px;
      border: 1px dashed #a3478f;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <h2>Convite de Aniversário da Maitê 💜</h2>
  <p>Você foi convidado para uma festa muito especial!</p>

  <!-- Botão escondido (tipo login) -->
  <div id="login">
    <button onclick="document.getElementById('adminArea').classList.toggle('hidden')">🔐 Acesso Restrito</button>
  </div>

  <!-- Área de administrador (geração de links por família) -->
  <div id="adminArea" class="hidden">
    <h3>🎯 Gerar Link Personalizado para Família</h3>

    <label for="responsavel">Nome do responsável:</label>
    <input type="text" id="responsavel" placeholder="Ex: Sueli">

    <label for="nomesMembros">Nomes dos membros (separados por vírgula):</label>
    <textarea id="nomesMembros" rows="3" placeholder="Ex: Sueli, Adilson, Eduardo, Byanca, Jonathan"></textarea>

    <button onclick="gerarLink()">🔗 Gerar Link</button>

    <div id="generatedLink" class="hidden"></div>

    <button id="btnWhatsapp" class="hidden" onclick="enviarWhatsapp()">📤 Enviar por WhatsApp</button>
  </div>

  <script>
    function gerarLink() {
      const responsavel = document.getElementById("responsavel").value.trim().toLowerCase().replace(/\s+/g, '-');
      const membros = document.getElementById("nomesMembros").value.trim();

      if (!responsavel || !membros) {
        alert("Preencha todos os campos!");
        return;
      }

      const baseURL = "https://byancathompson61-hue.github.io/convite-maite/";
      const linkCompleto = `${baseURL}?familia=${encodeURIComponent(responsavel)}&membros=${encodeURIComponent(membros)}`;

      const divLink = document.getElementById("generatedLink");
      divLink.innerHTML = `<strong>Link Gerado:</strong> <br><a href="${linkCompleto}" target="_blank">${linkCompleto}</a>`;
      divLink.classList.remove("hidden");

      document.getElementById("btnWhatsapp").classList.remove("hidden");

      // Salva o link na variável para uso posterior
      window.linkParaWhatsapp = linkCompleto;
    }

    function enviarWhatsapp() {
      const link = window.linkParaWhatsapp;
      const mensagem = `Oi! 🎉 Você está convidado(a) para o aniversário da Maitê! 💜✨\nClique no link abaixo para ver os detalhes do convite da sua família:\n👉 ${link}`;

      const encodedMsg = encodeURIComponent(mensagem);
      const whatsappURL = `https://wa.me/?text=${encodedMsg}`;
      window.open(whatsappURL, "_blank");
    }
  </script>

</body>
</html>

